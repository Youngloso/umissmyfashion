<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>รายละเอียดสินค้า - U Miss My Fashion</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css"> 
    <link rel="stylesheet" href="product-detail.css"> 
    <style>
        .btn-cart {
            display: inline-flex !important;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        #cart-count {
            background: #ff4d4d;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 11px;
            position: absolute;
            top: -8px;
            right: -12px;
            font-weight: bold;
            border: 2px solid #000;
        }
        .thumb { cursor: pointer; border: 2px solid transparent; width: 60px; height: 60px; object-fit: cover; }
        .thumb.active { border-color: #000; }
        .size-btn { padding: 8px 15px; margin-right: 5px; cursor: pointer; border: 1px solid #ccc; background: #fff; }
        .size-btn.active { background: #000; color: #fff; border-color: #000; }
    </style>
</head>
<body>
    
    <header>
        <h1>UMissMyFashion</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="products.html">All Product</a></li> 
                <li><a href="shirt.html">Streetwear</a></li> 
                <li><a href="jeans.html">Jeans</a></li> 
                <li><a href="Luxury.html">Luxury</a></li> 
                <li>
                    <a href="cart.html" style="position: relative;">
                        <i class="fa-solid fa-cart-shopping"></i>
                        <span id="cart-count" style="display:none;">0</span>
                    </a>
                </li>
            </ul>
        </nav>
    </header>

    <section class="product-detail">
        <div class="container">
            <div class="detail-grid">
                <div class="gallery-column">
                    <div class="image-section-box"> 
                        <div class="thumbnail-list" id="thumbnail-list"></div>
                        <div class="main-image-box"> 
                            <img id="main-product-image" class="main-image" src="placeholder.jpg" alt="รูปภาพสินค้าหลัก">
                        </div>
                    </div> 
                </div>

                <div class="info-column">
                    <div class="info-section-box"> 
                        <h1 id="product-title" class="product-title">กำลังโหลด...</h1> 
                        <p class="product-price">กำลังโหลด...</p>
                        <p class="product-description">กำลังโหลด...</p>

                        <hr> 
                        <div class="size-box" id="size-area">
                            <h4>Size :</h4>
                            <div class="size-select" id="size-selector"></div>
                        </div>

                        <div class="qty-box">
                            <label>จำนวน:</label>
                            <div class="quantity-selector">
                                <button id="decrement-btn" class="qty-btn">-</button>
                                <span id="quantity-display">1</span>
                                <button id="increment-btn" class="qty-btn">+</button>
                            </div>
                        </div>

                        <div class="btn-group">
                            <a href="#" class="btn-cart" id="add-to-cart-btn">
                                <i class="fa-solid fa-cart-plus"></i> เพิ่มลงตะกร้า
                            </a>
                            <a href="https://line.me/ti/p/@umissmyfashion" target="_blank" class="btn-buy">BUY NOW</a>
                        </div>
                    </div> 
                </div>
            </div>
        </div>
    </section>

    <script>
    const productData = {
        // --- Group P: Streetwear ---
        "P001": { name: "Fear of God Essentials Jersey Crewneck", description: "เสื้อยืดคอกลมจากแบรนด์ดัง Fear of God Essentials ดีไซน์เรียบง่ายแต่ดูดี สวมใส่ได้ทุกโอกาส เนื้อผ้าคอตตอน 100% สวมใส่สบาย", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Black", img: "images/p1black.jpg" }, { name: "Brown", img: "images/p1namtan.jpg"}, { name : "Gray", img: "images/p1gray.jpg"}], price: "฿2,675" },
        "P002": { name: "Stussy Body Scan Tee", description: "เสื้อยืดคุณภาพดี สไตล์สตรีทแฟชั่นงานนำเข้า ดีไซน์ล้ำ เท่ไม่เหมือนใคร เหมาะกับทุกลุค", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Ash Heather", img: "images/p2ash.jpg" }, { name: "Black Heather", img: "images/p2black.jpg" }, { name: "Blue Heather", img: "images/p2blue.jpg" }], price: "฿3,600" },
        "P003": { name: "Vlone Smoke Demon Angel Hoodie", description: "เสื้อแขนยาว Hoodies สุดเท่ ดีไซน์กราฟิก Angel Smoke ด้านหลัง ผ้า Fleece หนา อบอุ่น เหมาะสำหรับใส่ในทุกสภาพอากาศ", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "White", img: "images/p3white.jpg" }, { name: "Black", img: "images/p3black.jpg"}], price: "฿3,350" },
        "P004": { name: "Nike x Stussy 8 Ball T-shirt", description: "เสื้อยืดคอลเลกชันพิเศษที่ร่วมมือกันระหว่าง Nike และ Stussy ดีไซน์ลูกสนุ๊กเกอร์หมายเลข 8 อันเป็นเอกลักษณ์", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "White", img: "images/p4white.jpg" }, { name: "White Back", img: "images/p4whiteback.jpg"}], price: "฿5,000" },
        "P005": { name: "Stussy Ist Venus Pig. Dyed Tee", description: "เสื้อยืดสกรีนลายกราฟิก Ist Venus เทคนิค Pigment Dyed ให้สีสันและเนื้อผ้าที่มีเอกลักษณ์ไม่ซ้ำใคร", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Blue", img: "images/p5blue.jpg" }, { name: "Black", img: "images/p5black.jpg" }, { name: "White", img: "images/p5white.jpg"}], price: "฿6,400" },
        "P006": { name: "Mardi Mercredi Tshirt Flowermardi", description: "เสื้อยืดสกรีนลายดอกไม้สุดฮิตจาก Mardi Mercredi สวมใส่สบาย ดีไซน์น่ารัก เหมาะสำหรับวันสบายๆ", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Black Pink", img: "images/p6black.jpg" }, { name : "Black Cream", img: "images/p6cream.jpg"}], price: "฿1,100" },
        "P007": { name: "Mardi Mercredi Sweatshirt Flowermardi Blossom", description: "เสื้อสเวตเตอร์ลายดอกไม้สุดคลาสสิก ผ้าหนา นุ่ม อบอุ่น เหมาะสำหรับใส่คู่กับกางเกงยีนส์", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Oatmeal Black", img: "images/p7black.jpg" }, { name: "Oatmeal Taupe", img: "images/p7som.jpg" }], price: "฿2,400" },
        "P008": { name: "Drew House Mascot SS Tee", description: "เสื้อยืดลายมาสคอตหน้ายิ้มอันเป็นเอกลักษณ์ของ Drew House แบรนด์แฟชั่นจาก Justin Bieber", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Black", img: "images/p8black.jpg" }], price: "฿2,700" },
        "P009": { name: "Marithe Francois Girbaud W Vintage Baseball Ringer Tee", description: "เสื้อยืด Ringer สไตล์เบสบอลวินเทจจาก Marithe Francois Girbaud ขอบคอตัดสีตัดกัน ดีไซน์ย้อนยุค", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Pink", img: "images/p9pink.jpg" }], price: "฿1,400" },
        "P010": { name: "Stussy Look Beyond Tee Pigment Dyed", description: "เสื้อยืดสกรีนกราฟิก 'Look Beyond' เทคนิค Pigment Dyed ทำให้สีซีดลงเล็กน้อย ดูวินเทจและมีสไตล์", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Black", img: "images/p10black.jpg" }], price: "฿2,400" },
        "P011": { name: "Stussy Look Beyond Tee Pigment Dyed White", description: "เสื้อยืดสกรีนกราฟิก 'Look Beyond' เทคนิค Pigment Dyed สีขาว สไตล์วินเทจ สวมใส่สบาย", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "White", img: "images/p11white.jpg" }], price: "฿2,400" },
        "P012": { name: "Lifework New Silket Short-Sleeve TS Black", description: "เสื้อยืดแขนสั้นผ้า Silket คุณภาพสูง ให้สัมผัสเรียบลื่น ระบายอากาศได้ดี พร้อมโลโก้แบรนด์ Lifework", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Black", img: "images/p12black.jpg" }], price: "฿1,400" },
        "P013": { name: "Uniqlo Kaws Pink BFF Tee White", description: "เสื้อยืดคอลเลกชันร่วมกับ Kaws ลาย BFF สีชมพูสุดน่ารัก ผ้าคอตตอนนุ่ม ใส่สบาย", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "White", img: "images/p13white.jpg" }], price: "฿3,400" },
        "P014": { name: "Carnival Calligraphy Logo Ovs Black", description: "เสื้อยืด Oversize จาก Carnival พิมพ์โลโก้แบบ Calligraphy ที่ด้านหน้า ผ้าหนา คุณภาพดี", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Black", img: "images/p14black.jpg" }], price: "฿1,400" },
        "P015": { name: "Denim Tears The Cotton Wreath Sweatshirt Black", description: "เสื้อสเวตเตอร์สุดฮิตจาก Denim Tears ลาย Cotton Wreath อันเป็นสัญลักษณ์ ผ้าหนาคุณภาพดี", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Black", img: "images/p15black.jpg" }], price: "฿2,400" },
        "P016": { name: "Carnival x Marvel Venom OVS T-Shirt Black", description: "เสื้อยืด Oversize คอลเลกชันร่วมมือกับ Marvel ลาย Venom สุดดุดัน พิมพ์ลายเต็มด้านหลัง", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Black", img: "images/p16black.jpg" }], price: "฿2,400" },
        "P017": { name: "acmé de la vie Baby Face Donuts 1 R T-Shirt Black", description: "เสื้อยืดลาย Baby Face โดนัทสุดน่ารักจาก acmé de la vie (ADLV) สไตล์เกาหลียอดนิยม", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Black", img: "images/p17black.jpg" }], price: "฿2,400" },
        "P018": { name: "Marithe Francois Girbaud Ringer Tee Ivory", description: "เสื้อยืด Ringer สไตล์เบสบอลวินเทจ สีขาว Ivory ขอบคอตัดสีน้ำเงิน ดีไซน์ย้อนยุค", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Ivory", img: "images/p18white.jpg" }], price: "฿2,400" },
        "P019": { name: "Cosmic The 1975 Tee", description: "เสื้อยืดลายวงดนตรี The 1975 พิมพ์ลายกราฟิก Cosmic ย้อนยุ สวมใส่สบาย เหมาะสำหรับแฟนคลับ", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "White", img: "images/p19white.jpg" }], price: "฿2,400" },
        "P020": { name: "Carnival x UMBRO M Jersey Carnival Striped", description: "เสื้อฟุตบอล Jersey คอลเลกชันพิเศษร่วมกับ UMBRO ลายทางสีขาวดำ สไตล์สปอร์ตแฟชั่น", sizes: ['S', 'M', 'L', 'XL'], colors: [{ name: "Black White", img: "images/p20white.jpg" }], price: "฿2,400" },

        // --- Group L: Luxury ---
        "L1": { name: "Miu Miu Logo Sunglasses", description: "In Pale Gold Metal Frame Front With Rose Gold Lenses", sizes: ['Free Size'], colors: [{ name: "Pale Gold", img: "images/L1.jpg" }], price: "฿15,500" },
        "L2": { name: "Coach Nolita 19", description: "In Signature Canvas With Gold Hardware Brown Black", sizes: ['One Size'], colors: [{ name: "Brown Black", img: "images/L2.jpg" }], price: "฿4,900" },
        "L3": { name: "Louis Vuitton Key Pouch S", description: "Classic LV Monogram Key Pouch แข็งแรง ทนทาน", sizes: ['S'], colors: [{ name: "Monogram", img: "images/L3.jpg" }], price: "฿11,500" },
        "L4": { name: "Coach Cow Leather Belts", description: "Women's Black Width: 2.5CM หนังวัวแท้อะไหล่ทอง", sizes: ['S', 'M', 'L'], colors: [{ name: "Black", img: "images/L4.jpg" }], price: "฿3,200" },
        "L5": { name: "Vivienne Westwood Choker", description: "One Row Pearl Drop Silver สร้อยมุกจี้ Orb คลาสสิก", sizes: ['Free Size'], colors: [{ name: "Silver Pearl", img: "images/L5.jpg" }], price: "฿7,900" },
        "L6": { name: "Longchamp Le Pliage Green M", description: "Tote bag Mocha Edition น้ำหนักเบา จุของได้เยอะ", sizes: ['M'], colors: [{ name: "Mocha", img: "images/L6.jpg" }], price: "฿5,400" },
        "L7": { name: "Coach Andrea Carryall Bag", description: "In Signature Jacquard With Gold Hardware Coffee Brown", sizes: ['One Size'], colors: [{ name: "Coffee Brown", img: "images/L7.jpg" }], price: "฿8,500" },
        "L8": { name: "Balenciaga Dynasty Sunglasses", description: "Dynasty Rectangle Sunglasses In Black Acetate", sizes: ['Free Size'], colors: [{ name: "Black Gold", img: "images/L8.jpg" }], price: "฿14,900" },
        "L9": { name: "Celine Small Triomphe Belt", description: "18MM In Smooth Calfskin With Gold Finishing Black", sizes: ['70', '75', '80', '85'], colors: [{ name: "Black Gold", img: "images/L9.jpg" }], price: "฿18,500" },
        "L10": { name: "Saint Laurent Cassandre Belt", description: "30MM In Grained Lambskin With Square Buckle", sizes: ['75', '80', '85', '90'], colors: [{ name: "Black Bronze", img: "images/L10.jpg" }], price: "฿16,500" },
        "L11": { name: "Vivienne Westwood Mini Bas Relief", description: "Mini Bas Relief Drop Earrings In Silver", sizes: ['Free Size'], colors: [{ name: "Silver", img: "images/L11.jpg" }], price: "฿5,200" },
        "L12": { name: "Prada Rectangle Sunglasses", description: "Modern Rectangle Sunglasses จากแบรนด์ Prada", sizes: ['Free Size'], colors: [{ name: "Black", img: "images/L12.jpg" }], price: "฿12,900" },
        "L13": { name: "Vivienne Westwood Bas Relief Choker", description: "Silver-Tone Plating With Jet Black Pearl", sizes: ['Free Size'], colors: [{ name: "Jet Black", img: "images/L13.jpg" }], price: "฿8,900" },
        "L14": { name: "Vivienne Westwood Octavie Pendant", description: "Octavie Pendant In Silver-Hardware Pink", sizes: ['Free Size'], colors: [{ name: "Pink Silver", img: "images/L14.jpg" }], price: "฿6,500" },
        "L15": { name: "Gucci Interlocking G Mini Bag", description: "Interlocking G Luxury Canvas Mini Bag", sizes: ['Mini'], colors: [{ name: "Beige Ebony", img: "images/L15.jpg" }], price: "฿38,000" },
        "L16": { name: "Gucci GG Marmont Leather Belt", description: "30MM In Black Leather Shiny Gold-Toned Hardware", sizes: ['75', '80', '85', '90'], colors: [{ name: "Black Gold", img: "images/L16.jpg" }], price: "฿17,900" },
        "L17": { name: "Dior DIORSignature B1U", description: "DIORSignature B1U Butterfly Frame Sunglasses", sizes: ['Free Size'], colors: [{ name: "Black", img: "images/L17.jpg" }], price: "฿16,900" },

        // --- Group J: Jeans ---
        "J001": { name: "Acne Studios Baggy Fit Jeans 1981M Mid Blue Wash", description: "กางเกงยีนส์ทรง Baggy Fit ยอดฮิตจาก Acne Studios มาในสี Mid Blue Wash ที่ให้ลุคเซอร์แต่หรูหรา เนื้อผ้า Denim คุณภาพสูง ทรงสวยระดับ Hi-end", sizes: ['28', '30', '32', '34', '36'], colors: [{ name: "Mid Blue", img: "images/J1.jpg" }], price: "฿18,500" },
        "J002": { name: "Acne Studios Loose Fit Jeans 1981 Denim (Limited Edition)", description: "รุ่นพิเศษ Limited Edition ทรง Loose Fit ใส่สบาย เนื้อผ้า Denim คุณภาพสูงที่ทนทานและมีเอกลักษณ์เฉพาะตัว", sizes: ['28', '30', '32', '34', '36'], colors: [{ name: "Denim Blue", img: "images/J2.jpg" }], price: "฿22,900" },
        "J003": { name: "Celine Men's Blue 90s Mid-Rise Selvedge Denim Jeans Indigo", description: "ยีนส์สไตล์ 90s จาก Celine ผ้า Selvedge Denim สี Indigo เข้ม ทรงสวยหรูหรา ตัดเย็บประณีตสไตล์ฝรั่งเศส", sizes: ['29', '30', '31', '32', '33'], colors: [{ name: "Indigo", img: "images/J3.jpg" }], price: "฿38,000" },
        "J004": { name: "Loewe Anagram Barrel Jeans 'Washed Denim'", description: "กางเกงยีนส์ทรง Barrel (ทรงถัง) ที่โดดเด่นด้วยโลโก้ Anagram ของ Loewe ตรงหัวเข่า ผ้าฟอกนุ่มใส่สบายมาก", sizes: ['36', '38', '40', '42'], colors: [{ name: "Washed Denim", img: "images/J4.jpg" }], price: "฿34,500" },
        "J005": { name: "Loewe Chain Jeans 'Washed Denim'", description: "ดีไซน์หรูหราด้วยรายละเอียดโซ่ประดับตามสไตล์ Loewe ทรงสวยทันสมัย มาในสี Washed Denim สุดคลาสสิก", sizes: ['36', '38', '40', '42'], colors: [{ name: "Washed Denim", img: "images/J5.jpg" }], price: "฿36,000" },
        "J006": { name: "Celine Dylan Flared Jeans Signature Union Wash", description: "ยีนส์ขาบาน (Flared) สไตล์วินเทจยุค 70s เอกลักษณ์ของ Celine ในโทนสี Union Wash ที่แมตช์ชุดง่าย", sizes: ['27', '28', '29', '30'], colors: [{ name: "Union Wash", img: "images/J6.jpg" }], price: "฿35,500" },
        "J007": { name: "Saint Laurent D02 M/SK-LW Distressed Skinny Fit Blue", description: "กางเกงยีนส์ Skinny ในตำนานจาก YSL พร้อมรอยขาด (Distressed) สุดเท่ตามแบบฉบับ Rock & Roll", sizes: ['28', '29', '30', '31', '32'], colors: [{ name: "Blue", img: "images/J7.jpg" }], price: "฿24,900" },
        "J008": { name: "Chanel Jeans Women's Denim Blue", description: "ยีนส์ผู้หญิงจากแบรนด์ระดับโลก Chanel ตกแต่งรายละเอียดเรียบหรู พร้อมสัญลักษณ์แบรนด์ที่เป็นเอกลักษณ์", sizes: ['34', '36', '38', '40'], colors: [{ name: "Blue", img: "images/J8.jpg" }], price: "฿85,000" },
        "J009": { name: "Acne Studios Relaxed Fit Jeans White Green", description: "ทรง Relaxed ใส่สบาย โทนสีขาวเขียวสะอาดตา แปลกใหม่ไม่ซ้ำใคร ให้ลุคศิลปินและทันสมัย", sizes: ['28', '30', '32', '34'], colors: [{ name: "White Green", img: "images/J9.jpg" }], price: "฿16,500" },
        "J010": { name: "Acne Studios Relaxed Fit Jeans Mid Blue Auz", description: "กางเกงยีนส์ทรง Relaxed Fit สียีนส์กลาง เหมาะสำหรับแต่งตัวลุค Everyday Look ใส่ไปไหนก็รอด", sizes: ['28', '30', '32', '34'], colors: [{ name: "Mid Blue", img: "images/J10.jpg" }], price: "฿15,900" },
        "J011": { name: "Acne Studios Super Baggy Fit Jeans", description: "ที่สุดของความ Baggy ทรงกว้างพิเศษกำลังเป็นที่นิยมในสาย Streetwear ทั่วโลก ผ้าหนาอยู่ทรงสวย", sizes: ['28', '30', '32', '34'], colors: [{ name: "Blue", img: "images/J11.jpg" }], price: "฿19,800" },
        "J012": { name: "Gucci Jeans Men Denim Blue", description: "กางเกงยีนส์ Gucci พร้อมรายละเอียดซับซ้อนสไตล์อิตาลี เนื้อผ้าพรีเมียมสวมใส่สบาย ทนทาน", sizes: ['30', '32', '34', '36'], colors: [{ name: "Blue", img: "images/J12.jpg" }], price: "฿32,000" },
        "J013": { name: "Loewe Deconstructed Jeans In Denim Washed Denim (W)", description: "ดีไซน์ Deconstructed แบบรื้อสร้างใหม่ ดูมีมิติและเป็นศิลปะ เหมาะสำหรับสายแฟชั่นตัวจริง", sizes: ['34', '36', '38'], colors: [{ name: "Washed Denim", img: "images/J13.jpg" }], price: "฿38,000" },
        "J014": { name: "Loewe SS22 Jeans Women's Washed Denim Blue", description: "คอลเลกชัน SS22 สำหรับผู้หญิง ทรงสวยเน้นรูปร่างและคัตติ้งที่เนี๊ยบตามมาตรฐาน Loewe", sizes: ['34', '36', '38'], colors: [{ name: "Blue", img: "images/J14.jpg" }], price: "฿29,000" },
        "J015": { name: "Louis Vuitton SS23 Jeans Men's Blue", description: "ยีนส์จากรันเวย์ SS23 โดดเด่นด้วยเนื้อผ้าพรีเมียมและลายทอที่เป็นเอกลักษณ์ของ LV", sizes: ['30', '32', '34', '36'], colors: [{ name: "Blue", img: "images/J15.jpg" }], price: "฿45,000" },
        "J016": { name: "Celine Kitty Jeans In Pismo Wash Denim", description: "ทรง Kitty สุดชิคในสี Pismo Wash ให้ความรู้สึกสะอาด เรียบง่ายแต่ดูแพงแบบ Quiet Luxury", sizes: ['26', '27', '28', '29'], colors: [{ name: "Pismo Wash", img: "images/J16.jpg" }], price: "฿39,000" },
        "J017": { name: "Bottega Veneta Belted Wide-Leg Jeans", description: "ยีนส์ขากว้างมาพร้อมเข็มขัดในตัว เรียบแต่โก้ตามสไตล์ BV คัตติ้งเนี้ยบมาก", sizes: ['44', '46', '48', '50'], colors: [{ name: "Dark Blue", img: "images/J17.jpg" }], price: "฿42,000" },
        "J018": { name: "SS24 Jeans Women's Dark Blue", description: "กางเกงยีนส์ผู้หญิงคอลเลกชันใหม่ล่าสุดปี 2024 สีน้ำเงินเข้มคลาสสิก เข้ากับเสื้อผ้าได้ทุกสไตล์", sizes: ['34', '36', '38', '40'], colors: [{ name: "Dark Blue", img: "images/J18.jpg" }], price: "฿26,000" },
        "J019": { name: "Acne Studios Cut Off Jeans White Green", description: "ดีไซน์ปลายขาแบบ Cut Off ให้ลุคดิบๆ สตรีท ผสมผสานสี White Green ที่ไม่ซ้ำใคร", sizes: ['28', '30', '32', '34'], colors: [{ name: "White Green", img: "images/J19.jpg" }], price: "฿17,000" },
        "J020": { name: "Chanel Jeans Women's Blue", description: "กางเกงยีนส์ผู้หญิง Chanel ดีไซน์ร่วมสมัย ใช้วัสดุพรีเมียมที่สุด ทรงสวยอมตะ", sizes: ['36', '38', '40'], colors: [{ name: "Blue", img: "images/J20.jpg" }], price: "฿88,000" },
    };

        function loadProductDetails() {
            const params = new URLSearchParams(window.location.search);
            const productId = params.get('id');
            const product = productData[productId] || productData["P001"]; 

            if (!product) return;

            // Update Info
            const baseColor = product.colors[0].name;
            document.getElementById('product-title').textContent = `${product.name} ${baseColor}`; 
            document.querySelector('.product-description').textContent = product.description;
            document.querySelector('.product-price').textContent = product.price;

            // Size Selector
            const sizeArea = document.getElementById('size-area');
            const sizeSelector = document.getElementById('size-selector');
            sizeSelector.innerHTML = '';
            const isOneSize = product.sizes.length === 1 && (product.sizes[0].toLowerCase().includes('size') || product.sizes[0].toLowerCase().includes('free'));
            
            if (isOneSize) {
                sizeArea.style.display = 'none';
            } else {
                sizeArea.style.display = 'block';
                product.sizes.forEach((size, index) => {
                    const btn = document.createElement('button');
                    btn.textContent = size;
                    btn.className = index === 0 ? 'size-btn active' : 'size-btn';
                    btn.onclick = () => {
                        sizeSelector.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                    };
                    sizeSelector.appendChild(btn);
                });
            }

            // Gallery
            const mainImg = document.getElementById('main-product-image');
            const thumbList = document.getElementById('thumbnail-list');
            thumbList.innerHTML = '';
            product.colors.forEach((color, index) => {
                const thumb = document.createElement('img');
                thumb.src = color.img;
                thumb.className = index === 0 ? 'thumb active' : 'thumb';
                thumb.onclick = () => {
                    mainImg.src = color.img;
                    document.getElementById('product-title').textContent = `${product.name} ${color.name}`;
                    thumbList.querySelectorAll('.thumb').forEach(t => t.classList.remove('active'));
                    thumb.classList.add('active');
                };
                thumbList.appendChild(thumb);
                if(index === 0) mainImg.src = color.img;
            });

            // Quantity
            const qtyDisp = document.getElementById('quantity-display');
            document.getElementById('increment-btn').onclick = () => { qtyDisp.textContent = parseInt(qtyDisp.textContent) + 1; };
            document.getElementById('decrement-btn').onclick = () => { 
                let v = parseInt(qtyDisp.textContent); 
                if(v > 1) qtyDisp.textContent = v - 1; 
            };

            // Add to Cart
            document.getElementById('add-to-cart-btn').onclick = (e) => {
                e.preventDefault();
                const activeSize = document.querySelector('.size-btn.active')?.textContent || "Free Size";
                let cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
                cart.push({
                    name: document.getElementById('product-title').textContent,
                    price: product.price,
                    size: activeSize,
                    quantity: parseInt(qtyDisp.textContent),
                    img: mainImg.src
                });
                localStorage.setItem('shoppingCart', JSON.stringify(cart));
                updateCartBadge();
                alert('เพิ่มสินค้าแล้ว!');
            };

            updateCartBadge();
        }

        function updateCartBadge() {
            const cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
            const badge = document.getElementById('cart-count');
            const total = cart.reduce((s, i) => s + i.quantity, 0);
            if(total > 0) {
                badge.textContent = total;
                badge.style.display = 'inline-block';
            }
        }

        document.addEventListener('DOMContentLoaded', loadProductDetails);
    </script>
</body>
</html>
